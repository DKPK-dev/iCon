# apphosting.yaml â€” minimal to bypass env/pack conflict

runtime:
  nodeVersion: "20"

# Only the secret (array schema)
secretEnv:
  - key: OPENAI_API_KEY
    secret: OPENAI_API_KEY

resources:
  cpu: 1
  memoryMiB: 1024
  concurrency: 80

timeouts:
  requestSeconds: 60

# Explicit build/start commands (so the builder just runs these)
build:
  command: "npm ci && npm run build"

start:
  command: "npm start"
